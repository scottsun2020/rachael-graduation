<!DOCTYPE html>
<html lang="en">
<head>
  <script src="https://www.gstatic.com/firebasejs/10.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.10.0/firebase-database.js"></script>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rachael Yu's Graduation</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Raleway:wght@300;500&display=swap');

    body {
      font-family: 'Raleway', sans-serif;
      background: linear-gradient(to bottom right, #ffe6f0, #e0f7fa);
      background-attachment: fixed;
      background-size: cover;
      color: #2e2e2e;
      margin: 0;
      padding: 0;
      overflow-x: hidden;
    }
    header {
      background: rgba(46, 112, 49, 0.9);
      color: #f7dc6f;
      padding: 60px 20px;
      text-align: center;
      border-bottom: 4px solid #d4af37;
    }
    header h1 {
      margin: 0;
      font-size: 3em;
      font-family: 'Playfair Display', serif;
    }
    header p {
      font-size: 1.2em;
      font-style: italic;
    }
    .section {
      max-width: 800px;
      margin: 50px auto;
      padding: 30px 20px;
      background-color: rgba(255, 255, 255, 0.85);
      border-radius: 12px;
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.1);
    }
    h2 {
      color: #2e7031;
      font-family: 'Playfair Display', serif;
    }
    .quote {
      font-style: italic;
      background: #fdf7e3;
      padding: 20px;
      border-left: 6px solid #d4af37;
      font-family: 'Playfair Display', serif;
    }
    .countdown {
      font-size: 1.3em;
      margin-top: 10px;
      color: #c0392b;
    }
    textarea, input[type="text"] {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border: 1px solid #bfbfbf;
      border-radius: 6px;
      font-family: 'Raleway', sans-serif;
    }
    button {
      background-color: #2e7031;
      color: #fff;
      padding: 10px 20px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      margin-top: 10px;
      font-weight: bold;
    }
    #guestbook-messages {
      margin-top: 20px;
      padding-left: 0;
      list-style: none;
    }
    #guestbook-messages li {
      background: #fff;
      margin-bottom: 12px;
      padding: 12px;
      border-left: 4px solid #2e7031;
      box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    }
    .photo-gallery {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 20px;
      margin-top: 40px;
    }
    .photo-gallery img {
      max-width: 90%;
      border: 5px solid #d4af37;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    }
    .confetti {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      pointer-events: none;
      z-index: 1000;
    }
  </style>
</head>
<body>
  <canvas class="confetti" id="confetti"></canvas>

  <button onclick="document.getElementById('bgm').play()">üéµ Click to Play Music</button>
  <audio id="bgm" loop>
    <source src="rachaels_time_to_shine.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  <header>
    <h1>Congratulations Rachael Yu!</h1>
    <p>Temple City High School | Class of 2025</p>
  </header>

  <section class="section">
    <h2>A Message From Your Family</h2>
    <p>Dear Rachael,</p>
    <p>We are so incredibly proud of the young woman you've become. Your resilience, curiosity, and creativity continue to inspire us every day. As you take your next steps, remember we‚Äôre always behind you‚Äîcheering you on, loving you endlessly, and excited for what the future holds. Congratulations, graduate!</p>
    <p>Love always,</p>
    <p>Your Family ‚ù§Ô∏è</p>
  </section>

  <section class="section">
    <h2>Countdown to Graduation</h2>
    <div class="countdown" id="countdown"></div>
  </section>

  <section class="section">
    <h2>Favorite Quote</h2>
    <div class="quote">
      i am water<br>
      soft enough<br>
      to offer life<br>
      tough enough<br>
      to drown it away
    </div>
  </section>

  <section class="section photo-gallery">
    <h2>Gallery</h2>
    <img src="f6948202c5c0b8b5f3afbf22abe03264.JPG" alt="Rachael on stairs">
    <img src="236dc796e2d9268fe6b86ad884217b0f.JPG" alt="Rachael by greenery">
    <img src="0c010a7026c2fbafc3a0cdd212520cad.JPG" alt="Group of friends">
  </section>

  <section class="section">
    <h2>Guestbook</h2>
    <input type="text" id="guestName" placeholder="Your Name">
    <textarea id="guestMessage" rows="4" placeholder="Write your message for Rachael..."></textarea>
    <button onclick="addMessage()">Leave a Message</button>
    <ul id="guestbook-messages"></ul>
  </section>

 <!-- Firebase App (core) and Realtime Database -->

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyD-nDvaE2BA3RmGqszyJXLewbaSWDwjQUs",
      authDomain: "rachael-guestbook.firebaseapp.com",
      databaseURL: "https://rachael-guestbook-default-rtdb.firebaseio.com",
      projectId: "rachael-guestbook",
      storageBucket: "rachael-guestbook.firebasestorage.app",
      messagingSenderId: "539514799693",
      appId: "1:539514799693:web:617924611c89e4a14bbe04"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();
  </script>

  

  

  <script>
    function updateCountdown() {
      const targetDate = new Date("2025-05-30T16:00:00");
      const now = new Date();
      const diff = targetDate - now;

      if (diff <= 0) {
        document.getElementById('countdown').innerText = "üéì It's Graduation Time! üéâ";
        return;
      }

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
      const minutes = Math.floor((diff / (1000 * 60)) % 60);
      const seconds = Math.floor((diff / 1000) % 60);

      document.getElementById('countdown').innerText = `${days}d ${hours}h ${minutes}m ${seconds}s left until graduation!`;
    }
    setInterval(updateCountdown, 1000);

    // function addMessage() {
    //   const name = document.getElementById('guestName').value.trim();
    //   const message = document.getElementById('guestMessage').value.trim();
    //   if (!name || !message) return;

    //   const li = document.createElement('li');
    //   li.innerHTML = `<strong>${name}</strong>: ${message}`;
    //   document.getElementById('guestbook-messages').appendChild(li);

    //   document.getElementById('guestName').value = '';
    //   document.getElementById('guestMessage').value = '';
    // }
    
    function addMessage() {
      const name = document.getElementById('guestName').value.trim();
      const message = document.getElementById('guestMessage').value.trim();
      if (!name || !message) return;

      firebase.database().ref('guestbook').push({
        name: name,
        message: message,
        timestamp: Date.now()
      });

      document.getElementById('guestName').value = '';
      document.getElementById('guestMessage').value = '';
    }

    function loadMessages() {
      const guestbook = document.getElementById('guestbook-messages');
      firebase.database().ref('guestbook').on('child_added', (snapshot) => {
        const data = snapshot.val();
        const li = document.createElement('li');
        li.innerHTML = `<strong>${data.name}</strong>: ${data.message}`;
        guestbook.appendChild(li);
      });
    }

    window.onload = function () {
      updateCountdown();
      loadMessages();
    };


    // Confetti animation
    const confetti = document.getElementById('confetti');
    const ctx = confetti.getContext('2d');
    confetti.width = window.innerWidth;
    confetti.height = window.innerHeight;
    let particles = Array.from({length: 150}, () => createParticle());

    function createParticle() {
      return {
        x: Math.random() * confetti.width,
        y: Math.random() * confetti.height,
        r: Math.random() * 6 + 2,
        d: Math.random() * 100,
        color: `hsl(${Math.random() * 360}, 70%, 60%)`,
        tilt: Math.random() * 10 - 10,
        tiltAngleIncrement: Math.random() * 0.05 + 0.01,
        tiltAngle: 0
      };
    }

    function draw() {
      ctx.clearRect(0, 0, confetti.width, confetti.height);
      particles.forEach((p, i) => {
        ctx.beginPath();
        ctx.lineWidth = p.r;
        ctx.strokeStyle = p.color;
        ctx.moveTo(p.x + p.tilt + p.r / 2, p.y);
        ctx.lineTo(p.x + p.tilt, p.y + p.tilt + p.r / 2);
        ctx.stroke();
      });
      update();
    }

    function update() {
      particles.forEach((p, i) => {
        p.tiltAngle += p.tiltAngleIncrement;
        p.y += (Math.cos(p.d) + 3 + p.r / 2) / 2;
        p.x += Math.sin(p.d);
        p.tilt = Math.sin(p.tiltAngle - i / 3) * 15;

        if (p.y > confetti.height) {
          particles[i] = createParticle();
          particles[i].y = 0;
        }
      });
    }

    setInterval(draw, 33);
  </script>
</body>
</html>
